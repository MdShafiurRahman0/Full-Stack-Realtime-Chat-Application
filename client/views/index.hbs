<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap">
    <link rel="stylesheet" href="/style.css">   
    <title>ChatHive - Home</title>
</head>
<body>
    <!-- Modern Navigation -->
    <nav class="navbar navbar-expand-lg navbar-light fixed-top">
        <div class="container">
            <a class="navbar-brand" href="#">
                <i class="fas fa-comments text-primary me-2"></i>
                <span class="brand-text">ChatHive</span>
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item">
                        <a class="nav-link active" href="/">
                            <i class="fas fa-home me-1"></i>Home
                        </a>
                    </li>
                    {{#if user}}
                        <li class="nav-item">
                            <a class="nav-link" href="/chat">
                                <i class="fas fa-comments me-1"></i>Chat
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="/auth/logout">
                                <i class="fas fa-sign-out-alt me-1"></i>Logout
                            </a>
                        </li>
                    {{else}}
                        <li class="nav-item">
                            <a class="nav-link" href="/login">
                                <i class="fas fa-sign-in-alt me-1"></i>Login
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link btn btn-primary text-white px-3" href="/register">
                                <i class="fas fa-user-plus me-1"></i>Get Started
                            </a>
                        </li>
                    {{/if}}
                </ul>
            </div>
        </div>
    </nav>

    <!-- Hero Section -->
    <section class="hero-section">
        <div class="hero-background">
            <div class="hero-shapes">
                <div class="shape shape-1"></div>
                <div class="shape shape-2"></div>
                <div class="shape shape-3"></div>
            </div>
        </div>
        
        <div class="container">
            <div class="row align-items-center min-vh-100">
                <div class="col-lg-6">
                    {{#if user}}
                        <!-- Logged In User Content -->
                        <div class="hero-content">
                            <div class="welcome-badge">
                                <i class="fas fa-check-circle text-success me-2"></i>
                                Welcome back!
                            </div>
                            <h1 class="hero-title">
                                ðŸ‘‹ Hello, <span class="text-gradient">{{user.name}}</span>!
                            </h1>
                            <p class="hero-subtitle">
                                You're all set! Jump back into your conversations and stay connected with your friends, team, and community.
                            </p>
                            <div class="hero-actions">
                                <a class="btn btn-primary btn-lg me-3" href="/chat">
                                    <i class="fas fa-comments me-2"></i>Go to Chat
                                </a>
                                <div class="user-stats">
                                    <div class="stat-item">
                                        <i class="fas fa-users text-primary"></i>
                                        <span>Active Community</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    {{else}}
                        <!-- Guest User Content -->
                        <div class="hero-content">
                            <div class="welcome-badge">
                                <i class="fas fa-rocket text-primary me-2"></i>
                                Next Generation Chat
                            </div>
                            <h1 class="hero-title">
                                ðŸ’¬ Welcome to <span class="text-gradient">ChatHive</span>
                            </h1>
                            <p class="hero-subtitle">
                                Experience instant, secure, and real-time conversations. Connect with friends, collaborate with teams, and build meaningful communities â€” all in one beautiful platform.
                            </p>
                            <div class="hero-features">
                                <div class="feature-item">
                                    <i class="fas fa-bolt text-warning"></i>
                                    <span>Lightning Fast</span>
                                </div>
                                <div class="feature-item">
                                    <i class="fas fa-shield-alt text-success"></i>
                                    <span>Secure & Private</span>
                                </div>
                                <div class="feature-item">
                                    <i class="fas fa-mobile-alt text-info"></i>
                                    <span>Mobile Ready</span>
                                </div>
                            </div>
                            <div class="hero-actions">
                                <a class="btn btn-primary btn-lg me-3" href="/register">
                                    <i class="fas fa-rocket me-2"></i>Get Started Free
                                </a>
                                <a class="btn btn-primary btn-lg" href="/login">
                                    <i class="fas fa-sign-in-alt me-2"></i>Sign In
                                </a>
                            </div>
                        </div>
                    {{/if}}
                </div>
                
                <div class="col-lg-6">
                    <!-- Video Section -->
                    <div class="video-section">
                        <div class="video-container">
                            <div class="video-header">
                                <h4 class="video-title">
                                    <i class="fas fa-play-circle text-primary me-2"></i>
                                    See ChatHive in Action
                                </h4>
                                <p class="video-subtitle">Watch our demo to see how easy and beautiful chatting can be</p>
                            </div>
                            <div class="video-wrapper">
                                <video controls class="demo-video">
                                    <source src="/screen-capture.webm" type="video/webm">
                                    Your browser does not support the video tag.
                                </video>
                                <div class="video-overlay">
                                    <div class="play-button">
                                        <i class="fas fa-play"></i>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Features Section (for guests) -->
    {{#unless user}}
    <section class="features-section">
        <div class="container">
            <div class="row">
                <div class="col-12 text-center mb-5">
                    <h2 class="section-title">Why Choose ChatHive?</h2>
                    <p class="section-subtitle">Built for modern communication needs</p>
                </div>
            </div>
            <div class="row g-4">
                <div class="col-md-4">
                    <div class="feature-card">
                        <div class="feature-icon">
                            <i class="fas fa-bolt"></i>
                        </div>
                        <h3>Lightning Fast</h3>
                        <p>Real-time messaging with instant delivery and typing indicators</p>
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="feature-card">
                        <div class="feature-icon">
                            <i class="fas fa-shield-alt"></i>
                        </div>
                        <h3>Secure & Private</h3>
                        <p>Your conversations are protected with industry-standard security</p>
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="feature-card">
                        <div class="feature-icon">
                            <i class="fas fa-mobile-alt"></i>
                        </div>
                        <h3>Mobile Ready</h3>
                        <p>Responsive design that works perfectly on all devices</p>
                    </div>
                </div>
            </div>
        </div>
    </section>
    {{/unless}}

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="row align-items-center">
                <div class="col-md-6">
                    <div class="footer-brand">
                        <i class="fas fa-comments text-primary me-2"></i>
                        <span>ChatHive</span>
                    </div>
                    <p class="footer-text">Connecting people through beautiful conversations</p>
                </div>
                <div class="col-md-6 text-md-end">
                    <div class="footer-links">
                        <a href="#" class="footer-link">Privacy</a>
                        <a href="#" class="footer-link">Terms</a>
                        <a href="#" class="footer-link">Support</a>
                    </div>
                </div>
            </div>
        </div>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        // Add home-page class to body for proper styling
        document.body.classList.add('home-page');
        
        // Video functionality
        document.addEventListener('DOMContentLoaded', function() {
            const video = document.querySelector('.demo-video');
            const playButton = document.querySelector('.play-button');
            const videoOverlay = document.querySelector('.video-overlay');
            const videoWrapper = document.querySelector('.video-wrapper');
            
            if (video && playButton && videoOverlay && videoWrapper) {
                // Play button click functionality
                playButton.addEventListener('click', function() {
                    if (video.paused) {
                        video.play();
                        playButton.innerHTML = '<i class="fas fa-pause"></i>';
                        videoWrapper.classList.add('playing');
                    } else {
                        video.pause();
                        playButton.innerHTML = '<i class="fas fa-play"></i>';
                        videoWrapper.classList.remove('playing');
                    }
                });
                
                // Video event listeners
                video.addEventListener('play', function() {
                    playButton.innerHTML = '<i class="fas fa-pause"></i>';
                    videoWrapper.classList.add('playing');
                });
                
                video.addEventListener('pause', function() {
                    playButton.innerHTML = '<i class="fas fa-play"></i>';
                    videoWrapper.classList.remove('playing');
                });
                
                video.addEventListener('ended', function() {
                    playButton.innerHTML = '<i class="fas fa-play"></i>';
                    videoWrapper.classList.remove('playing');
                });
                
                // Hide overlay when video is playing
                video.addEventListener('playing', function() {
                    videoWrapper.classList.add('playing');
                });
                
                // Show overlay when video is paused
                video.addEventListener('pause', function() {
                    videoWrapper.classList.remove('playing');
                });
                
                // Add click to play on video wrapper
                videoWrapper.addEventListener('click', function(e) {
                    if (e.target === videoWrapper || e.target.classList.contains('video-overlay')) {
                        if (video.paused) {
                            video.play();
                        } else {
                            video.pause();
                        }
                    }
                });
            }
        });
        
        // Add smooth scrolling for anchor links
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({
                        behavior: 'smooth',
                        block: 'start'
                    });
                }
            });
        });
    </script>
</body>
</html>
